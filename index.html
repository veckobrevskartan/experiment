<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Svensk OSINT – Experiment (Moduler)</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header class="topbar">
    <div class="brand">
      <!-- Stor logga (×4) och utan dubblerad text -->
      <img src="svensk-osint-logga.png" alt="Svensk OSINT logga" class="logo logo-xl" />
    </div>
  </header>

  <main class="container">

    <!-- MODUL: ZETTELKASTEN -->
    <section class="card" id="mod-zettelkasten" data-module>
      <div class="card-head">
        <div>
          <h2>Zettelkasten</h2>
          <p class="muted">Levande kunskapsnätverk för underrättelseanalys.</p>
        </div>
        <div class="actions">
          <button class="btn" type="button" data-expand="#mod-zettelkasten">Expandera</button>
          <button class="btn" type="button" data-fullscreen="#mod-zettelkasten">Helskärm</button>
        </div>
      </div>

      <div class="grid2">

        <div class="box">
          <div class="box-title">Zettelkasten som metod</div>

          <p>
            Zettelkasten är ett system för att bygga och underhålla ett <b>levande kunskapsnätverk</b> snarare än ett arkiv.
            Metoden förknippas med Niklas Luhmann och lämpar sig väl för underrättelsearbete där värdet ofta ligger i
            <b>relationer, mönster och kumulativ förståelse</b>.
          </p>

          <ul class="bullets">
            <li><b>Atomisering</b>: en idé, observation eller hypotes per zettel.</li>
            <li><b>Permanent och spårbar kunskap</b>: återanvändbar över tid, bygger institutionellt minne.</li>
            <li><b>Länkning framför hierarki</b>: tematiska/kausala kopplingar istället för mappar.</li>
            <li><b>Emergent analys</b>: nya insikter uppstår när anteckningar kopplas oväntat.</li>
          </ul>

          <p class="note">
            Styrkan är att metoden tål osäkerhet och motstridiga uppgifter: de kan ligga kvar parallellt och länkas till samma fenomen,
            tills ny information tippar bedömningen.
          </p>

          <div class="box" style="margin-top:12px;">
            <div class="box-title">Exempel: Obsidian (video)</div>

            <!-- Spelar bara när videon är synlig, och loopar -->
            <video
              class="video"
              src="obsidian.mp4"
              muted
              loop
              playsinline
              preload="metadata"
              data-play-when-visible
            ></video>

            <div class="note">
              Videon startar när den syns i viewporten och pausar när du scrollar förbi. Den loopar kontinuerligt när den är synlig.
            </div>
          </div>
        </div>

        <div class="box">
          <div class="box-title">Illustrationer</div>

          <div class="figure" style="margin-bottom:10px;">
            <img src="zettel-0c.jpg" alt="Zettelkasten kortlådor" class="figure-img">
          </div>

          <div class="figure" style="margin-bottom:10px;">
            <img src="zettelkasten-steps.png" alt="Zettelkasten process" class="figure-img">
          </div>

          <div class="figure">
            <img src="zettelkasten-network.png" alt="Zettelkasten nätverk" class="figure-img">
          </div>

          <div class="note">
            Lägg bilderna i samma mapp som index.html (och döp filerna exakt som i src-attributen).
          </div>
        </div>

      </div>
    </section>

    <!-- MODUL: UNDERRÄTTELSECYKELN -->
    <section class="card" id="mod-cycle" data-module>
      <div class="card-head">
        <div>
          <h2>Underrättelsecykeln</h2>
          <p class="muted">Inriktning • Planering • Inhämtning • Bearbetning • Analys • Delgivning • Feedback</p>
        </div>
        <div class="actions">
          <button class="btn" type="button" data-expand="#mod-cycle">Expandera</button>
          <button class="btn" type="button" data-fullscreen="#mod-cycle">Helskärm</button>
        </div>
      </div>

      <div class="grid2">
        <div class="box">
          <div class="box-title">Kort stöd</div>
          <ul class="bullets">
            <li><b>Inriktning</b>: definiera informationsbehov och prioriteringar.</li>
            <li><b>Planering</b>: metoder, källor, ansvar, täckningsytor och tid.</li>
            <li><b>Inhämtning</b>: samla in data från interna och externa källor.</li>
            <li><b>Bearbetning</b>: strukturera, normalisera, källvärdera.</li>
            <li><b>Analys</b>: pröva hypoteser, koppla ihop, bedöm.</li>
            <li><b>Delgivning</b>: anpassa format, detalj och timing.</li>
            <li><b>Feedback</b>: förbättra nästa varv (inriktning/indikatorer).</li>
          </ul>
        </div>

        <!-- HÄR: bild till höger -->
        <div class="box">
          <div class="box-title">Underrättelsecykeln – översikt</div>

          <div class="figure">
            <img src="analyscykel.png" alt="Underrättelsecykeln" class="figure-img" />
          </div>

          <div class="note">
            Kör modulen i helskärm under genomgång och koppla sedan till Zettelkasten (länkning), OIAT (källkvalitet) och Kända/Okända (kunskapsläge).
          </div>
        </div>
      </div>
    </section>

    <!-- MODUL: OIAT -->
    <section class="card" id="mod-oiat" data-module>
      <div class="card-head">
        <div>
          <h2>OIAT – kvalitetskriterier</h2>
          <p class="muted">Objektivitet • Integritet • Aktualitet • Täckning</p>
        </div>
        <div class="actions">
          <button class="btn" type="button" data-expand="#mod-oiat">Expandera</button>
          <button class="btn" type="button" data-fullscreen="#mod-oiat">Helskärm</button>
        </div>
      </div>

      <div class="grid2">
        <div class="box">
          <div class="box-title">Reglage + beräkning</div>

          <div class="sliders">
            <label>
              Objektivitet <span class="value" id="vO">4</span>
              <input id="sO" type="range" min="0" max="5" step="1" value="4" />
            </label>

            <label>
              Integritet <span class="value" id="vI">4</span>
              <input id="sI" type="range" min="0" max="5" step="1" value="4" />
            </label>

            <label>
              Aktualitet <span class="value" id="vA">3</span>
              <input id="sA" type="range" min="0" max="5" step="1" value="3" />
            </label>

            <label>
              Täckning <span class="value" id="vT">3</span>
              <input id="sT" type="range" min="0" max="5" step="1" value="3" />
            </label>
          </div>

          <div class="oiat-result">
            <div class="oiat-score">
              <div class="oiat-label">OIAT score</div>
              <div class="oiat-value"><span id="oiatScore">—</span> / 5</div>
            </div>

            <div class="oiat-rag" id="oiatRagPill" data-rag="unknown">
              <span class="dot"></span>
              <span id="oiatRagText">—</span>
            </div>
          </div>

          <div class="note">
            RAG-trösklar: <b>Röd &lt; 2,5</b>, <b>Gul 2,5–3,5</b>, <b>Grön ≥ 3,5</b>.
          </div>
        </div>

        <div class="box">
          <div class="box-title">Modellbild</div>
          <div class="figure">
            <img src="oiat-modellen.png" alt="OIAT-modellen" class="figure-img" />
          </div>
          <div class="note">
            Tips: visa detta i helskärm tillsammans med reglagen – diskutera vad som händer om Aktualitet blir hög,
            men Integritet/Objektivitet är svag.
          </div>
        </div>
      </div>
    </section>

    <!-- MODUL: KÄNDA / OKÄNDA -->
    <section class="card" id="mod-knowns" data-module>
      <div class="card-head">
        <div>
          <h2>Fyra kunskapslägen</h2>
          <p class="muted">Kända kända • Kända okända • Okända kända • Okända okända</p>
        </div>
        <div class="actions">
          <button class="btn" type="button" data-expand="#mod-knowns">Expandera</button>
          <button class="btn" type="button" data-fullscreen="#mod-knowns">Helskärm</button>
        </div>
      </div>

      <div class="grid2">
        <div class="box">
          <div class="box-title">Bild</div>
          <div class="figure">
            <img src="kanda.png" alt="Kända/Okända – kunskapslägen" class="figure-img" />
          </div>
          <div class="note">
            Använd som pedagogiskt stöd: vad vet vi, vad saknar vi, vad finns internt men når inte fram, och vad är helt nytt.
          </div>
        </div>

        <div class="box">
          <div class="box-title">Förklaringar</div>

          <div class="kk-grid">
            <div class="kk-card">
              <div class="kk-title">Kända kända (Known knowns)</div>
              <p>
                Kända -kända är sådant vi både vet händer och förstår hur det brukar gå till. Det kan till exempel vara
                kopparstölder vid bangårdar, stöldskador, sabotage på kontaktledningar och fiberkablar eller DDoS-attacker
                mot samhällsviktiga webbplatser. Här handlar arbetet om att följa rutiner, hålla dem uppdaterade och se till
                att åtgärderna fortsätter vara effektiva och ständigt förbättra det arbetet.
              </p>
            </div>

            <div class="kk-card">
              <div class="kk-title">Kända okända (Known unknowns)</div>
              <p>
                Kända -okända är sådant vi vet kan hända, men där viktiga detaljer saknas – till exempel var, när eller hur
                det kan ske. Det kan röra sig om rykten om sabotage vid en depå eller varningar om möjliga attacker mot
                signalsystem utan tekniska detaljer, exempelvis genom att vi ser att ett grannland eller grannmyndighet nu
                utsätts för denna typ av handling. Här gäller det att formulera vad vi behöver ta reda på, samla in mer
                information och sätta ut tydliga signaler eller ”triggers” som gör att vi snabbt kan höja beredskapen när
                något förändras.
              </p>
            </div>

            <div class="kk-card">
              <div class="kk-title">Okända kända (Unknown knowns)</div>
              <p>
                Okända- kända är kunskap som redan finns i organisationen eller hos våra entreprenörer, men som inte nått
                fram till dem som arbetar med hotanalysen eller till dem som har förmåga att påverka i rätt riktning. Det kan
                vara observationer av uppklippta stängsel, rapporter om ovanliga fordon vid arbetsområden eller avvikelser i
                loggar. Genom att aktivt leta upp sådan information, prata med personal och granska äldre rapporter kan vi
                upptäcka risker som annars hade gått oss förbi. Att ledningen genom delgivning sedan kan informeras medför att
                vi kan få beslutade åtgärder för att förebygga och få dessa områden kända.
              </p>
            </div>

            <div class="kk-card">
              <div class="kk-title">Okända okända (Unknown unknowns)</div>
              <p>
                Okända -okända är det vi varken vet att vi borde veta eller hur det skulle kunna se ut – helt nya typer av
                händelser. Det kan handla om en ny typ av kombinerad fysisk och digital attack, eller störningar som kommer
                från en leverantörskedja eller annan part vi inte visste att vi var beroende av, eller inte uppskattat den
                faktiska konsekvensen för. Här är arbetet mer inriktat på att bygga motståndskraft och reservplaner, öva på
                osannolika scenarier och se till att vi har bred övervakning som kan fånga upp oväntade förändringar.
              </p>
            </div>
          </div>
        </div>
      </div>

      <div class="box" style="margin-top:12px;">
        <div class="box-title">Tabell</div>
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>Typ av kunskap</th>
                <th>Kort förklaring</th>
                <th>Exempel</th>
                <th>Hur vi jobbar med det</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><b>Kända kända</b> (Known knowns)</td>
                <td>Vi vet att det händer och vi vet hur det går till</td>
                <td>Kopparstölder, stormskador, DDoS mot samhällsviktiga webbplatser</td>
                <td>Följ rutiner, uppdatera åtgärder, mät och följ upp, förbättra.</td>
              </tr>
              <tr>
                <td><b>Kända okända</b> (Known unknowns)</td>
                <td>Vi vet att det kan hända, men saknar detaljer om var, när och hur</td>
                <td>Rykten/indikationer om sabotage vid knutpunkt, misstanke om attacker mot signalsystem utan detaljer</td>
                <td>Samla mer info, ställ rätt frågor, bevaka triggers (signaler att agera på).</td>
              </tr>
              <tr>
                <td><b>Okända kända</b> (Unknown knowns)</td>
                <td>Någon i organisationen vet, men informationen har inte nått fram</td>
                <td>Skuret stängsel, observationer vid arbetsområden, avvikelser i loggar som ingen kopplat ihop</td>
                <td>Leta upp och dela intern kunskap, intervjua personal, granska gamla rapporter.</td>
              </tr>
              <tr>
                <td><b>Okända okända</b> (Unknown unknowns)</td>
                <td>Vi vet inte att det kan hända och har ingen tidigare erfarenhet av det</td>
                <td>Samtidig cyber- och fysisk attack, störning via okänd leverantörskedja</td>
                <td>Bygg reservplaner, öva på oväntade scenarier, ha bred övervakning.</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- MODUL: KARTA (IFRAME) -->
    <section class="card" id="mod-map" data-module>
      <div class="card-head">
        <div>
          <h2>Karta</h2>
          <p class="muted">Inbäddad vy med helskärm och öppna-i-ny-flik.</p>
        </div>
        <div class="actions">
          <button class="btn" type="button" data-expand="#mod-map">Expandera</button>
          <button class="btn" type="button" data-fullscreen="#mapFrame">Helskärm</button>
          <a class="btn" href="https://veckobrevskartan.github.io/veckobrevskartan/" target="_blank" rel="noopener">
            Öppna i ny flik
          </a>
        </div>
      </div>

      <div class="frame" id="mapFrame">
        <iframe
          title="Veckobrevskartan"
          src="https://veckobrevskartan.github.io/veckobrevskartan/"
          loading="lazy"
          allow="fullscreen"
          referrerpolicy="no-referrer"
        ></iframe>
      </div>
    </section>

    <!-- MODUL: DASHBOARD (IFRAME) -->
    <section class="card" id="mod-dash" data-module>
      <div class="card-head">
        <div>
          <h2>Dashboard</h2>
          <p class="muted">Inbäddad dashboard med helskärm och öppna-i-ny-flik.</p>
        </div>
        <div class="actions">
          <button class="btn" type="button" data-expand="#mod-dash">Expandera</button>
          <button class="btn" type="button" data-fullscreen="#dashFrame">Helskärm</button>
          <a class="btn" href="https://veckobrevskartan.github.io/Dashboard/" target="_blank" rel="noopener">
            Öppna i ny flik
          </a>
        </div>
      </div>

      <div class="frame" id="dashFrame">
        <iframe
          title="Dashboard"
          src="https://veckobrevskartan.github.io/Dashboard/"
          loading="lazy"
          allow="fullscreen"
          referrerpolicy="no-referrer"
        ></iframe>
      </div>
    </section>

    <!-- MODUL: TIDSLINJEN (IFRAME) -->
    <section class="card" id="mod-timeline" data-module>
      <div class="card-head">
        <div>
          <h2>Tidslinjen</h2>
          <p class="muted">Inbäddad tidslinje med helskärm och öppna-i-ny-flik.</p>
        </div>
        <div class="actions">
          <button class="btn" type="button" data-expand="#mod-timeline">Expandera</button>
          <button class="btn" type="button" data-fullscreen="#timelineFrame">Helskärm</button>
          <a class="btn" href="https://veckobrevskartan.github.io/tidslinjen/" target="_blank" rel="noopener">
            Öppna i ny flik
          </a>
        </div>
      </div>

      <div class="frame" id="timelineFrame">
        <iframe
          title="Tidslinjen"
          src="https://veckobrevskartan.github.io/tidslinjen/"
          loading="lazy"
          allow="fullscreen"
          referrerpolicy="no-referrer"
        ></iframe>
      </div>
    </section>

    <footer class="footer">
      <span>© Svensk OSINT</span>
      <span class="muted">VERSION: 2026-01-09</span>
    </footer>

  </main>

  <!-- Script: data först, sedan charts -->
  <script src="data.js"></script>
  <script src="charts.js"></script>

  <!-- Video: spela bara när synlig -->
  <script>
    (function () {
      const videos = Array.from(document.querySelectorAll("video[data-play-when-visible]"));
      if (!videos.length) return;

      // Om webbläsaren saknar IO, fallback: spela direkt.
      if (!("IntersectionObserver" in window)) {
        videos.forEach(v => { v.play().catch(() => {}); });
        return;
      }

      const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          const v = entry.target;
          const isVisible = entry.isIntersecting && entry.intersectionRatio >= 0.35;

          if (isVisible) {
            v.play().catch(() => {});
          } else {
            v.pause();
          }
        });
      }, { threshold: [0, 0.35, 0.6, 1] });

      videos.forEach(v => io.observe(v));
    })();
  </script>
</body>
</html>
